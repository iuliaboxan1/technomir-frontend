<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Technomir Search</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>

<body class="container mt-4">
    <h1>Technomir Search</h1>

    <div class="d-flex gap-3 mb-3">
    <a href="/">Home</a>
    <a href="/cart">My cart</a>
    <a href="/account">Account</a>
    </div>

    <form method="post" action="/">
        <input type="text" name="partNum" placeholder="Enter part number" required>
        <button type="submit">Search</button>
    </form>

    {{if .}}
    <h2>Results:</h2>
    <ul>

        {{range .}}
        {{ $item := . }}
        <li>
            Brand: {{ $item.Brand }} |
            Code: {{ $item.Code }}

            <ul>
                {{range $item.Stocks}}
                <li>
                    Supplier: {{.PriceLogo}} |
                    Price: {{.Price}} |
                    Delivery: {{.DeliveryDays}} days

                    <form action="/cart/add" method="post" class="add-to-cart-form">
                        <input type="hidden" name="brand" value="{{ $item.Brand }}">
                        <input type="hidden" name="code" value="{{ $item.Code }}">
                        <input type="hidden" name="supplier" value="{{ .PriceLogo }}">
                        <input type="hidden" name="price" value="{{ .Price }}">
                        <input type="hidden" name="delivery" value="{{ .DeliveryDays }}">
                        <button type="submit">Add to Cart</button>
                    </form>
                </li>
                {{end}}
            </ul>

        </li>
        {{end}}

    </ul>
    {{end}}

    <script src="/static/js/cart.js"></script>


</body>

</html>




